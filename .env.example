# HappyOS Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# LLM SERVICE CONFIGURATION (REQUIRED)
# ============================================================================

# OpenAI API Key (Required for all agents)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# OpenAI Organization ID (Optional)
OPENAI_ORG_ID=org-...

# Google GenAI API Key (Optional - only needed for Banking Agent)
# Get your key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=...

# ============================================================================
# AWS CONFIGURATION (OPTIONAL - FOR PRODUCTION)
# ============================================================================

# AWS Region
AWS_REGION=us-east-1

# AWS Credentials (or use IAM role in production)
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...

# AWS Bedrock Configuration
BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0
BEDROCK_REGION=us-east-1

# ElastiCache Configuration (LLM Response Caching)
ELASTICACHE_CLUSTER=happyos-llm-cache.abc123.0001.use1.cache.amazonaws.com:6379
ELASTICACHE_TTL=3600

# DynamoDB Configuration (LLM Usage Tracking)
DYNAMODB_TABLE_PREFIX=happyos-
DYNAMODB_LLM_USAGE_TABLE=happyos-llm-usage

# OpenSearch Configuration (Vector Search)
OPENSEARCH_ENDPOINT=https://search-happyos.us-east-1.es.amazonaws.com
OPENSEARCH_INDEX_PREFIX=happyos-

# S3 Configuration (Storage)
S3_BUCKET_PREFIX=happyos-
S3_REGION=us-east-1

# ============================================================================
# BACKEND SERVICES (REQUIRED)
# ============================================================================

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=...
SUPABASE_SERVICE_ROLE_KEY=...

# LiveKit Configuration (Video/Audio)
LIVEKIT_URL=wss://your-project.livekit.cloud
LIVEKIT_API_KEY=...
LIVEKIT_API_SECRET=...

# MCP Security
MCP_API_KEY=your-secure-mcp-key-change-this-in-production

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment Mode
ENVIRONMENT=development  # development, staging, production

# Backend Configuration
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
DEBUG=true

# Frontend Configuration
REACT_APP_API_URL=http://localhost:8000

# ============================================================================
# AGENT-SPECIFIC CONFIGURATION
# ============================================================================

# Agent Svea (Swedish Compliance)
AGENT_SVEA_PORT=8001
ERPNEXT_URL=https://your-erpnext-instance.com
ERPNEXT_API_KEY=...

# Felicia's Finance (Crypto Trading)
FELICIAS_FINANCE_PORT=8002
BINANCE_API_KEY=...
BINANCE_API_SECRET=...
COINBASE_API_KEY=...
COINBASE_API_SECRET=...

# MeetMind (Meeting Intelligence)
MEETMIND_PORT=8003

# Self-Building Agent (Autonomous System Improvement)
SELF_BUILDING_MCP_PORT=8004
SELF_BUILDING_MCP_API_KEY=your-secure-self-building-key-change-this

# ============================================================================
# SELF-BUILDING SYSTEM CONFIGURATION
# ============================================================================

# Feature Flags
ENABLE_SELF_BUILDING=true
ENABLE_CLOUDWATCH_STREAMING=true
ENABLE_AUTONOMOUS_IMPROVEMENTS=false  # Start disabled for safety
ENABLE_COMPONENT_GENERATION=true
ENABLE_IMPROVEMENT_ROLLBACK=true

# Improvement Cycle Configuration
SELF_BUILDING_IMPROVEMENT_CYCLE_INTERVAL_HOURS=24
SELF_BUILDING_MAX_CONCURRENT_IMPROVEMENTS=3
SELF_BUILDING_IMPROVEMENT_QUALITY_THRESHOLD=0.85
SELF_BUILDING_IMPROVEMENT_RISK_TOLERANCE=0.1
SELF_BUILDING_MONITORING_DURATION_SECONDS=3600
SELF_BUILDING_ROLLBACK_DEGRADATION_THRESHOLD=0.10

# Analysis Configuration
SELF_BUILDING_IMPROVEMENT_ANALYSIS_WINDOW_HOURS=24
SELF_BUILDING_TELEMETRY_BUFFER_SIZE=1000
SELF_BUILDING_INSIGHTS_CACHE_TTL_SECONDS=300

# Component Generation Configuration
SELF_BUILDING_GENERATION_TIMEOUT_SECONDS=60
SELF_BUILDING_MAX_GENERATION_RETRIES=3
SELF_BUILDING_CODE_VALIDATION_ENABLED=true

# CloudWatch Integration
SELF_BUILDING_CLOUDWATCH_NAMESPACE=MeetMind/MCPUIHub
SELF_BUILDING_CLOUDWATCH_METRICS_PERIOD=300
SELF_BUILDING_CLOUDWATCH_LOG_GROUP_PATTERN=/aws/lambda/happyos-*

# System Health Configuration
SELF_BUILDING_PERIODIC_HEALTH_CHECKS=true
SELF_BUILDING_HEALTH_CHECK_INTERVAL_SECONDS=300
SELF_BUILDING_SYSTEM_EVOLUTION_TRACKING=true

# Component Flags (for selective initialization)
ENABLE_DEPENDENCY_ANALYZER=true
ENABLE_HEALING_ORCHESTRATOR=true
ENABLE_DOC_GENERATOR=true
ENABLE_EXTERNAL_MARKETPLACE=false
ENABLE_OPTIMIZATION_ENGINE=true
ENABLE_GRAPH_VISUALIZER=false
ENABLE_META_ORCHESTRATOR=true

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# Sentry (Error Tracking)
SENTRY_DSN=...

# CloudWatch (AWS Monitoring)
CLOUDWATCH_LOG_GROUP=/aws/happyos
CLOUDWATCH_REGION=us-east-1

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Redis (Caching & Rate Limiting)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=...
REDIS_DB=0

# PostgreSQL (if using local database)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=happyos
POSTGRES_USER=happyos
POSTGRES_PASSWORD=...

# ============================================================================
# LLM SERVICE TUNING (OPTIONAL)
# ============================================================================

# Default Model Selection
DEFAULT_LLM_MODEL=gpt-4
DEFAULT_LLM_TEMPERATURE=0.3
DEFAULT_LLM_MAX_TOKENS=500

# Cache Configuration
LLM_CACHE_ENABLED=true
LLM_CACHE_TTL=3600

# Circuit Breaker Configuration
LLM_CIRCUIT_BREAKER_THRESHOLD=5
LLM_CIRCUIT_BREAKER_TIMEOUT=60

# Cost Limits (USD per day)
LLM_DAILY_COST_LIMIT=100.00
LLM_ALERT_THRESHOLD=80.00

# ============================================================================
# DEVELOPMENT TOOLS (OPTIONAL)
# ============================================================================

# Hot Reload
RELOAD=true

# Log Level
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Testing
PYTEST_ARGS=--verbose --cov=backend

# ============================================================================
# NOTES
# ============================================================================
#
# REQUIRED FOR BASIC OPERATION:
# - OPENAI_API_KEY (all agents need this)
# - SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY
# - LIVEKIT_URL, LIVEKIT_API_KEY, LIVEKIT_API_SECRET
#
# OPTIONAL FOR ENHANCED FEATURES:
# - GOOGLE_API_KEY (only for Banking Agent)
# - AWS credentials (for Bedrock, ElastiCache, DynamoDB)
#
# SECURITY REMINDERS:
# - Never commit .env file to version control
# - Use strong, unique keys for production
# - Rotate API keys regularly
# - Use AWS Secrets Manager in production
#
# For detailed configuration guide, see:
# - LLM Service: backend/core/llm/README.md
# - Deployment: docs/llm_deployment_guide.md
#
